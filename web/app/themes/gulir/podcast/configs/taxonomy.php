<?php
/** Don't load directly */
if ( ! defined( 'ABSPATH' ) ) {
	exit;
}

if ( ! function_exists( 'gulir_register_term_series_settings' ) ) {
	function gulir_register_term_series_settings( $configs ) {

		$configs[] = [
			'title'      => esc_html__( 'Gulir Show (Series) Settings', 'gulir' ),
			'info'       => esc_html__( 'The settings will apply to this show only, and the ones below will take priority over other settings in the "Theme Options > Ruby Podcast > Show" settings', 'gulir' ),
			'taxonomies' => [ 'series' ],
			'id'         => 'gulir_category_meta',
			'tabs'       => [
				[
					'title' => esc_html__( 'Show Colors', 'gulir' ),
					'id'    => 'entry-category',
					'icon'  => 'dashicons-art',
				],
				[
					'title' => esc_html__( 'Featured Image', 'gulir' ),
					'id'    => 'show-featured',
					'icon'  => 'dashicons-format-gallery',
				],
				[
					'title' => esc_html__( 'Show (Series) Header', 'gulir' ),
					'id'    => 'category-header',
					'icon'  => 'dashicons-editor-justify',
				],
				[
					'title' => esc_html__( 'Podcast', 'gulir' ),
					'id'    => 'podcast',
					'icon'  => 'dashicons-album',
				],
				[
					'title' => esc_html__( 'Listing Queries', 'gulir' ),
					'id'    => 'query',
					'icon'  => 'dashicons-database',
				],
				[
					'title' => esc_html__( 'Listing Template', 'gulir' ),
					'id'    => 'global-template',
					'icon'  => 'dashicons-admin-site',
				],
				[
					'title' => esc_html__( 'Site Header', 'gulir' ),
					'id'    => 'site-header',
					'icon'  => 'dashicons-heading',
				],
				[
					'title' => esc_html__( 'Podcast RSS', 'gulir' ),
					'id'    => 'show-rss',
					'icon'  => 'dashicons-rss',
				],
			],
			'fields'     => [
				[
					'id'   => 'highlight_color',
					'name' => esc_html__( 'Highlight Color', 'gulir' ),
					'desc' => esc_html__( 'Select a highlight color for the entry icon.', 'gulir' ),
					'info' => esc_html__( 'Default is global color.', 'gulir' ),
					'tab'  => 'entry-category',
					'type' => 'color',
					'std'  => '',
				],
				[
					'id'   => 'color',
					'name' => esc_html__( 'Accent (Label) Color', 'gulir' ),
					'desc' => esc_html__( 'Select a color for the text label of the entry icon.', 'gulir' ),
					'info' => esc_html__( 'Default is white color.', 'gulir' ),
					'tab'  => 'entry-category',
					'css'  => 'bold-divider',
					'type' => 'color',
					'std'  => '',
				],
				[
					'id'   => 'dark_highlight_color',
					'name' => esc_html__( 'Dark Mode - Highlight Color', 'gulir' ),
					'desc' => esc_html__( 'Select a highlight color for the entry icon in dark mode.', 'gulir' ),
					'tab'  => 'entry-category',
					'type' => 'color',
					'std'  => '',
				],
				[
					'id'   => 'dark_color',
					'name' => esc_html__( 'Dark Mode - Accent (Label) Color', 'gulir' ),
					'desc' => esc_html__( 'Select a color for the text label of the entry icon in dark mode.', 'gulir' ),
					'tab'  => 'entry-category',
					'type' => 'color',
					'std'  => '',
				],
				[
					'id'      => 'category_header',
					'name'    => esc_html__( 'Category Header', 'gulir' ),
					'desc'    => esc_html__( 'Select a category header layout.', 'gulir' ),
					'tab'     => 'category-header',
					'type'    => 'select',
					'options' => gulir_config_category_header( true ),
					'std'     => '0',
				],
				[
					'id'   => 'featured_image',
					'name' => esc_html__( 'Featured Image', 'gulir' ),
					'desc' => esc_html__( 'Upload featured images for this show.', 'gulir' ),
					'tab'  => 'show-featured',
					'type' => 'image',
				],
				[
					'id'      => 'pattern',
					'name'    => esc_html__( 'Background Pattern', 'gulir' ),
					'desc'    => esc_html__( 'Select a pattern style for the header background.', 'gulir' ),
					'tab'     => 'category-header',
					'type'    => 'select',
					'options' => gulir_config_archive_header_bg( true ),
					'std'     => '0',
				],
				[
					'id'      => 'breadcrumb',
					'name'    => esc_html__( 'Breadcrumb', 'gulir' ),
					'desc'    => esc_html__( 'Enable or disable the breadcrumb in this show header.', 'gulir' ),
					'tab'     => 'category-header',
					'type'    => 'select',
					'options' => [
						'0'  => esc_html__( '- Default -', 'gulir' ),
						'1'  => esc_html__( 'Use Global Setting', 'gulir' ),
						'-1' => esc_html__( 'Disable', 'gulir' ),
					],
					'std'     => '0',
				],
				[
					'id'   => 'featured_file',
					'name' => esc_html__( 'Audio Intro Podcast File', 'gulir' ),
					'desc' => esc_html__( 'Upload an introductory podcast (audio file) for this show.', 'gulir' ),
					'tab'  => 'podcast',
					'type' => 'file',
				],
				[
					'id'          => 'listen_on_apple',
					'name'        => esc_html__( 'Listen on Apple Podcast', 'gulir' ),
					'desc'        => esc_html__( 'Add an Apple podcast link for this show.', 'gulir' ),
					'placeholder' => esc_html__( 'https://podcasts.apple.com...', 'gulir' ),
					'tab'         => 'podcast',
					'type'        => 'text',
				],
				[
					'id'          => 'listen_on_spotify',
					'name'        => esc_html__( 'Listen on Spotify', 'gulir' ),
					'desc'        => esc_html__( 'Add a Spotify link for this show.', 'gulir' ),
					'placeholder' => esc_html__( 'https://open.spotify.com/...', 'gulir' ),
					'tab'         => 'podcast',
					'type'        => 'text',
				],
				[
					'id'          => 'listen_on_soundcloud',
					'name'        => esc_html__( 'Listen on Soundcloud', 'gulir' ),
					'desc'        => esc_html__( 'Add a Soundcloud link for this show.', 'gulir' ),
					'placeholder' => esc_html__( 'https://soundcloud.com/...', 'gulir' ),
					'tab'         => 'podcast',
					'type'        => 'text',
				],
				[
					'id'          => 'listen_on_google',
					'name'        => esc_html__( 'Listen on Google Podcast', 'gulir' ),
					'desc'        => esc_html__( 'Add a Google podcast link for this show.', 'gulir' ),
					'placeholder' => esc_html__( 'https://podcasts.google.com/...', 'gulir' ),
					'tab'         => 'podcast',
					'type'        => 'text',
				],
				[
					'id'          => 'posts_per_page',
					'name'        => esc_html__( 'Posts per Page', 'gulir' ),
					'desc'        => esc_html__( 'Input posts per page for this show.', 'gulir' ),
					'info'        => esc_html__( 'This setting will apply to this category for both the Ruby Template and predefined layouts.', 'gulir' ),
					'tab'         => 'query',
					'placeholder' => '10',
					'type'        => 'text',
					'classes'     => 'small',
					'std'         => '',
				],
				[
					'id'          => 'tag_not_in',
					'name'        => esc_html__( 'Exclude Tags Slug', 'gulir' ),
					'desc'        => esc_html__( 'Remove episodes with this tag from the global blog query.', 'gulir' ),
					'info'        => esc_html__( 'Separated by commas, this setting will also apply to the Global WP Query Template.', 'gulir' ),
					'tab'         => 'query',
					'placeholder' => 'tag1,tag2,tag3',
					'type'        => 'text',
					'std'         => '',
				],
				[
					'id'      => 'order_by',
					'name'    => esc_html__( 'Order Episodes', 'gulir' ),
					'desc'    => esc_html__( 'Order by episode index for this show', 'gulir' ),
					'info'    => esc_html__( 'By default, the show will order episodes by publish date.', 'gulir' ),
					'tab'     => 'query',
					'type'    => 'select',
					'options' => [
						'0'               => esc_html__( '- Default -', 'gulir' ),
						'post_index'      => esc_html__( 'Episode Index ASC', 'gulir' ),
						'post_index_desc' => esc_html__( 'Episode Index DECS', 'gulir' ),
					],
					'std'     => '0',
				],
				[
					'id'          => 'template_global',
					'name'        => esc_html__( 'Use Ruby Template for the Post Listing', 'gulir' ),
					'desc'        => esc_html__( 'Enter a "Ruby Template" shortcode here. This setting will take priority over all other settings.', 'gulir' ),
					'info'        => esc_html__( 'Create a blog listing layout with Ruby Template via Elementor page builder and assign the template shortcode here to create your own layout.', 'gulir' ),
					'tab'         => 'global-template',
					'type'        => 'textarea',
					'input_class' => 'ruby-template-input',
					'placeholder' => '[Ruby_E_Template id="1"]',
					'rows'        => 1,
					'std'         => '',
				],
				[
					'id'      => 'header_style',
					'name'    => esc_html__( 'Site Header', 'gulir' ),
					'desc'    => esc_html__( 'Select a site header for this show.', 'gulir' ),
					'tab'     => 'site-header',
					'type'    => 'select',
					'options' => gulir_config_header_style( true, true ),
					'std'     => '0',
				],
				[
					'id'          => 'header_template',
					'name'        => esc_html__( 'Or Use Ruby Template for Site Header', 'gulir' ),
					'desc'        => esc_html__( 'Input a Ruby Template shortcode for displaying as the website header for this show.', 'gulir' ),
					'info'        => esc_html__( 'This setting will override all "Header Layout" settings. Leave it blank to disable.', 'gulir' ),
					'tab'         => 'site-header',
					'type'        => 'textarea',
					'input_class' => 'ruby-template-input',
					'placeholder' => '[Ruby_E_Template id="1"]',
					'rows'        => 1,
					'std'         => '',
				],
				[
					'id'   => 'featured_rss',
					'name' => esc_html__( 'RSS Feature Image', 'gulir' ),
					'desc' => esc_html__( 'Upload an RSS featured image for this show.', 'gulir' ),
					'info' => esc_html__( 'The image should be square, with a size between 1400 and 3000px.', 'gulir' ),
					'tab'  => 'show-rss',
					'type' => 'image',
				],
				[
					'id'          => 'itunes_category',
					'name'        => esc_html__( 'Apple Podcasts Categories', 'gulir' ),
					'desc'        => esc_html__( 'Input the Apple Podcasts Categories (RSS supported), separated by commas.', 'gulir' ),
					'placeholder' => 'News',
					'info'        => esc_html__( 'List of Categories: https://podcasters.apple.com/support/1691-apple-podcasts-categories', 'gulir' ),
					'tab'         => 'show-rss',
					'type'        => 'text',
				],
				[
					'id'          => 'rss_email',
					'name'        => esc_html__( 'Owner\'s Email', 'gulir' ),
					'desc'        => esc_html__( 'Enter the email of the show owner.', 'gulir' ),
					'info'        => esc_html__( 'This email is used for feed verification.', 'gulir' ),
					'placeholder' => 'admin@example.com',
					'tab'         => 'show-rss',
					'type'        => 'text',
				],
				[
					'id'   => 'rss_name',
					'name' => esc_html__( 'Owner\'s Name', 'gulir' ),
					'desc' => esc_html__( 'Enter the name of the show owner.', 'gulir' ),
					'tab'  => 'show-rss',
					'type' => 'text',
				],
			],
		];

		return $configs;
	}
}

add_filter( 'ruby_taxonomies', 'gulir_register_term_series_settings', 11, 1 );